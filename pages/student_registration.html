<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Registration - JRMSU TC Boarding House System</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fjrmsutcb4972back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
<script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-primary-50 via-background to-secondary-50">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-5">
        <svg class="w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse">
                    <path d="M 10 0 L 0 0 0 10" fill="none" stroke="currentColor" stroke-width="0.5"/>
                </pattern>
            </defs>
            <rect width="100" height="100" fill="url(#grid)"/>
        </svg>
    </div>

    <!-- Navigation Header -->
    <nav class="relative z-10 bg-white/80 backdrop-blur-sm border-b border-secondary-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-text-primary">JRMSU TC</h1>
                        <p class="text-xs text-text-secondary">Boarding House System</p>
                    </div>
                </div>

                <!-- Navigation Links -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="room_availability.html" class="text-text-secondary hover:text-primary transition-colors duration-200">
                        Room Availability
                    </a>
                    <a href="student_login.html" class="btn btn-secondary">
                        Sign In
                    </a>
                </div>

                <!-- Mobile Menu Button -->
                <button class="md:hidden p-2 rounded-md text-text-secondary hover:text-primary hover:bg-secondary-100 transition-colors duration-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="relative z-10 flex-1 py-8">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                <!-- Registration Form -->
                <div class="lg:col-span-3">
                    <div class="card-elevated p-8 animate-fade-in">
                        <!-- Header -->
                        <div class="text-center mb-8">
                            <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 4V6L13.5 7.5C13.1 7.9 12.6 8.1 12 8.1S10.9 7.9 10.5 7.5L9 6V4L3 7V9L9 12L12 10.5L15 12L21 9ZM16 14.5V16.5C16 17.11 15.61 17.61 15.11 17.81L12 19.17L8.89 17.81C8.39 17.61 8 17.11 8 16.5V14.5L12 16.5L16 14.5Z"/>
                                </svg>
                            </div>
                            <h2 class="text-3xl font-bold text-text-primary mb-2">Student Registration</h2>
                            <p class="text-text-secondary">Create your JRMSU TC Boarding House account</p>
                        </div>

                        <!-- Progress Indicator -->
                        <div class="mb-8">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <div id="step1-indicator" class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-medium">1</div>
                                    <span class="ml-2 text-sm font-medium text-primary">Personal Information</span>
                                </div>
                                <div class="flex-1 mx-4 h-1 bg-secondary-200 rounded">
                                    <div id="progress-bar-1" class="h-1 bg-primary rounded transition-all duration-300" style="width: 100%"></div>
                                </div>
                                <div class="flex items-center">
                                    <div id="step2-indicator" class="w-8 h-8 bg-secondary-200 text-text-muted rounded-full flex items-center justify-center text-sm font-medium">2</div>
                                    <span class="ml-2 text-sm font-medium text-text-muted">Emergency Contact</span>
                                </div>
                                <div class="flex-1 mx-4 h-1 bg-secondary-200 rounded">
                                    <div id="progress-bar-2" class="h-1 bg-primary rounded transition-all duration-300" style="width: 0%"></div>
                                </div>
                                <div class="flex items-center">
                                    <div id="step3-indicator" class="w-8 h-8 bg-secondary-200 text-text-muted rounded-full flex items-center justify-center text-sm font-medium">3</div>
                                    <span class="ml-2 text-sm font-medium text-text-muted">Accommodation</span>
                                </div>
                                <div class="flex-1 mx-4 h-1 bg-secondary-200 rounded">
                                    <div id="progress-bar-3" class="h-1 bg-primary rounded transition-all duration-300" style="width: 0%"></div>
                                </div>
                                <div class="flex items-center">
                                    <div id="step4-indicator" class="w-8 h-8 bg-secondary-200 text-text-muted rounded-full flex items-center justify-center text-sm font-medium">4</div>
                                    <span class="ml-2 text-sm font-medium text-text-muted">Documents</span>
                                </div>
                            </div>
                        </div>

                        <!-- Registration Form -->
                        <form id="registrationForm" class="space-y-8">
                            <!-- Step 1: Personal Information -->
                            <div id="step1" class="step-content">
                                <h3 class="text-xl font-semibold text-text-primary mb-6 flex items-center">
                                    <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                    </svg>
                                    Personal Information
                                </h3>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- First Name -->
                                    <div class="form-group">
                                        <label for="firstName" class="form-label">First Name *</label>
                                        <input type="text" id="firstName" name="firstName" class="form-input" placeholder="Enter your first name" required />
                                        <div id="firstNameError" class="form-error hidden">First name is required</div>
                                    </div>

                                    <!-- Last Name -->
                                    <div class="form-group">
                                        <label for="lastName" class="form-label">Last Name *</label>
                                        <input type="text" id="lastName" name="lastName" class="form-input" placeholder="Enter your last name" required />
                                        <div id="lastNameError" class="form-error hidden">Last name is required</div>
                                    </div>

                                    <!-- Middle Name -->
                                    <div class="form-group">
                                        <label for="middleName" class="form-label">Middle Name</label>
                                        <input type="text" id="middleName" name="middleName" class="form-input" placeholder="Enter your middle name (optional)" />
                                    </div>

                                    <!-- Student ID -->
                                    <div class="form-group">
                                        <label for="studentId" class="form-label">Student TC Number *</label>
                                        <input type="text" id="studentId" name="studentId" class="form-input" placeholder="TC-23-A-00000" pattern="[0-9]{4}-[0-9]{5}" required />
                                        <div id="studentIdError" class="form-error hidden">Please enter a valid TC NUMBER (TC-A-NNNNN)</div>
                                    </div>

                                    <!-- Email -->
                                    <div class="form-group">
                                        <label for="email" class="form-label">Email Address *</label>
                                        <input type="email" id="email" name="email" class="form-input" placeholder="your.email@jrmsu.edu.ph" required />
                                        <div id="emailError" class="form-error hidden">Please enter a valid email address</div>
                                    </div>

                                    <!-- Phone Number -->
                                    <div class="form-group">
                                        <label for="phone" class="form-label">Phone Number *</label>
                                        <input type="tel" id="phone" name="phone" class="form-input" placeholder="+63 9XX XXX XXXX" pattern="(\+63|0)[0-9]{10}" required />
                                        <div id="phoneError" class="form-error hidden">Please enter a valid Philippine phone number</div>
                                    </div>

                                    <!-- Date of Birth -->
                                    <div class="form-group">
                                        <label for="dateOfBirth" class="form-label">Date of Birth *</label>
                                        <input type="date" id="dateOfBirth" name="dateOfBirth" class="form-input" required />
                                        <div id="dateOfBirthError" class="form-error hidden">Date of birth is required</div>
                                    </div>

                                    <!-- Gender -->
                                    <div class="form-group">
                                        <label for="gender" class="form-label">Gender *</label>
                                        <select id="gender" name="gender" class="form-input" required>
                                            <option value>Select gender</option>
                                            <option value="male">Male</option>
                                            <option value="female">Female</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <div id="genderError" class="form-error hidden">Please select your gender</div>
                                    </div>
                                </div>

                                <!-- Address -->
                                <div class="form-group mt-6">
                                    <label for="address" class="form-label">Complete Address *</label>
                                    <textarea id="address" name="address" rows="3" class="form-input" placeholder="Enter your complete home address" required></textarea>
                                    <div id="addressError" class="form-error hidden">Complete address is required</div>
                                </div>

                                <!-- Course and Year -->
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                                    <div class="form-group">
                                        <label for="course" class="form-label">Course/Program *</label>
                                        <select id="course" name="course" class="form-input" required>
                                            <option value>Select your course</option>
                                            <option value="bsit">Bachelor of Science in Information System</option>
                                            <option value="bscs">Bachelor of Science in Computer Science</option>
                                            <option value="bsba">Bachelor of Science in Business Administration</option>
                                            <option value="bsed">Bachelor of Secondary Education</option>
                                            <option value="beed">Bachelor of Elementary Education</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <div id="courseError" class="form-error hidden">Please select your course</div>
                                    </div>

                                    <div class="form-group">
                                        <label for="yearLevel" class="form-label">Year Level *</label>
                                        <select id="yearLevel" name="yearLevel" class="form-input" required>
                                            <option value>Select year level</option>
                                            <option value="1">1st Year</option>
                                            <option value="2">2nd Year</option>
                                            <option value="3">3rd Year</option>
                                            <option value="4">4th Year</option>
                                            <option value="5">5th Year</option>
                                        </select>
                                        <div id="yearLevelError" class="form-error hidden">Please select your year level</div>
                                    </div>
                                </div>

                                <!-- Emergency Contact Information -->
                                <div class="mt-8">
                                    <h3 class="text-xl font-semibold text-text-primary mb-6 flex items-center">
                                        <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                        </svg>
                                        Emergency Contact Information
                                    </h3>

                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- Emergency Contact Name -->
                                        <div class="form-group">
                                            <label for="emergencyName" class="form-label">Contact Person Name *</label>
                                            <input type="text" id="emergencyName" name="emergencyName" class="form-input" placeholder="Full name of emergency contact" required />
                                            <div id="emergencyNameError" class="form-error hidden">Emergency contact name is required</div>
                                        </div>

                                        <!-- Relationship -->
                                        <div class="form-group">
                                            <label for="relationship" class="form-label">Relationship *</label>
                                            <select id="relationship" name="relationship" class="form-input" required>
                                                <option value>Select relationship</option>
                                                <option value="parent">Parent</option>
                                                <option value="guardian">Guardian</option>
                                                <option value="sibling">Sibling</option>
                                                <option value="relative">Relative</option>
                                                <option value="other">Other</option>
                                            </select>
                                            <div id="relationshipError" class="form-error hidden">Please select relationship</div>
                                        </div>

                                        <!-- Emergency Phone -->
                                        <div class="form-group">
                                            <label for="emergencyPhone" class="form-label">Phone Number *</label>
                                            <input type="tel" id="emergencyPhone" name="emergencyPhone" class="form-input" placeholder="+63 9XX XXX XXXX" pattern="(\+63|0)[0-9]{10}" required />
                                            <div id="emergencyPhoneError" class="form-error hidden">Please enter a valid phone number</div>
                                        </div>

                                        <!-- Emergency Email -->
                                        <div class="form-group">
                                            <label for="emergencyEmail" class="form-label">Email Address</label>
                                            <input type="email" id="emergencyEmail" name="emergencyEmail" class="form-input" placeholder="emergency.contact@email.com" />
                                        </div>
                                    </div>

                                    <!-- Emergency Address -->
                                    <div class="form-group mt-6">
                                        <label for="emergencyAddress" class="form-label">Address *</label>
                                        <textarea id="emergencyAddress" name="emergencyAddress" rows="3" class="form-input" placeholder="Complete address of emergency contact" required></textarea>
                                        <div id="emergencyAddressError" class="form-error hidden">Emergency contact address is required</div>
                                    </div>
                                </div>
                            </div>
                            <div id="step2" class="step-content hidden">
                                <h3 class="text-xl font-semibold text-text-primary mb-6 flex items-center">
                                    <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                    </svg>
                                    Emergency Contact Information
                                </h3>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Emergency Contact Name -->
                                    <div class="form-group">
                                        <label for="emergencyName" class="form-label">Contact Person Name *</label>
                                        <input type="text" id="emergencyName" name="emergencyName" class="form-input" placeholder="Full name of emergency contact" required />
                                        <div id="emergencyNameError" class="form-error hidden">Emergency contact name is required</div>
                                    </div>

                                    <!-- Relationship -->
                                    <div class="form-group">
                                        <label for="relationship" class="form-label">Relationship *</label>
                                        <select id="relationship" name="relationship" class="form-input" required>
                                            <option value>Select relationship</option>
                                            <option value="parent">Parent</option>
                                            <option value="guardian">Guardian</option>
                                            <option value="sibling">Sibling</option>
                                            <option value="relative">Relative</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <div id="relationshipError" class="form-error hidden">Please select relationship</div>
                                    </div>

                                    <!-- Emergency Phone -->
                                    <div class="form-group">
                                        <label for="emergencyPhone" class="form-label">Phone Number *</label>
                                        <input type="tel" id="emergencyPhone" name="emergencyPhone" class="form-input" placeholder="+63 9XX XXX XXXX" pattern="(\+63|0)[0-9]{10}" required />
                                        <div id="emergencyPhoneError" class="form-error hidden">Please enter a valid phone number</div>
                                    </div>

                                    <!-- Emergency Email -->
                                    <div class="form-group">
                                        <label for="emergencyEmail" class="form-label">Email Address</label>
                                        <input type="email" id="emergencyEmail" name="emergencyEmail" class="form-input" placeholder="emergency.contact@email.com" />
                                    </div>
                                </div>

                                <!-- Emergency Address -->
                                <div class="form-group mt-6">
                                    <label for="emergencyAddress" class="form-label">Address *</label>
                                    <textarea id="emergencyAddress" name="emergencyAddress" rows="3" class="form-input" placeholder="Complete address of emergency contact" required></textarea>
                                    <div id="emergencyAddressError" class="form-error hidden">Emergency contact address is required</div>
                                </div>
                            </div>

                            <!-- Step 3: Accommodation Preferences -->
                            <div id="step3" class="step-content hidden">
                                <h3 class="text-xl font-semibold text-text-primary mb-6 flex items-center">
                                    <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                                    </svg>
                                    Accommodation Preferences
                                </h3>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Room Type -->
                                    <div class="form-group">
                                        <label for="roomType" class="form-label">Preferred Room Type *</label>
                                        <select id="roomType" name="roomType" class="form-input" required>
                                            <option value>Select room type</option>
                                            <option value="single">Single Room (₱3,500/month)</option>
                                            <option value="double">Double Room (₱2,800/month)</option>
                                            <option value="triple">Triple Room (₱2,200/month)</option>
                                            <option value="quad">Quad Room (₱1,800/month)</option>
                                        </select>
                                        <div id="roomTypeError" class="form-error hidden">Please select a room type</div>
                                    </div>

                                    <!-- Move-in Date -->
                                    <div class="form-group">
                                        <label for="moveInDate" class="form-label">Preferred Move-in Date *</label>
                                        <input type="date" id="moveInDate" name="moveInDate" class="form-input" min="2025-01-01" required />
                                        <div id="moveInDateError" class="form-error hidden">Please select a move-in date</div>
                                    </div>

                                    <!-- Duration -->
                                    <div class="form-group">
                                        <label for="duration" class="form-label">Stay Duration *</label>
                                        <select id="duration" name="duration" class="form-input" required>
                                            <option value>Select duration</option>
                                            <option value="1-semester">1 Semester</option>
                                            <option value="1-year">1 Academic Year</option>
                                            <option value="2-years">2 Academic Years</option>
                                            <option value="until-graduation">Until Graduation</option>
                                        </select>
                                        <div id="durationError" class="form-error hidden">Please select stay duration</div>
                                    </div>

                                    <!-- Special Requirements -->
                                    <div class="form-group">
                                        <label for="specialRequirements" class="form-label">Special Requirements</label>
                                        <select id="specialRequirements" name="specialRequirements" class="form-input">
                                            <option value>None</option>
                                            <option value="ground-floor">Ground Floor Access</option>
                                            <option value="near-bathroom">Near Bathroom</option>
                                            <option value="quiet-area">Quiet Study Area</option>
                                            <option value="air-conditioning">Air Conditioning</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Additional Notes -->
                                <div class="form-group mt-6">
                                    <label for="additionalNotes" class="form-label">Additional Notes/Requests</label>
                                    <textarea id="additionalNotes" name="additionalNotes" rows="3" class="form-input" placeholder="Any additional requests or information you'd like to share..."></textarea>
                                </div>
                            </div>

                            <!-- Step 4: Document Upload -->
                            <div id="step4" class="step-content hidden">
                                <h3 class="text-xl font-semibold text-text-primary mb-6 flex items-center">
                                    <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                    Required Documents
                                </h3>

                                <div class="space-y-6">
                                    <!-- Student ID Copy -->
                                    <div class="form-group">
                                        <label for="studentIdCopy" class="form-label">Student ID Copy *</label>
                                        <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-secondary-300 border-dashed rounded-md hover:border-primary transition-colors duration-200">
                                            <div class="space-y-1 text-center">
                                                <svg class="mx-auto h-12 w-12 text-text-muted" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                <div class="flex text-sm text-text-secondary">
                                                    <label for="studentIdCopy" class="relative cursor-pointer bg-white rounded-md font-medium text-primary hover:text-primary-700">
                                                        <span>Upload a file</span>
                                                        <input id="studentIdCopy" name="studentIdCopy" type="file" class="sr-only" accept=".jpg,.jpeg,.png,.pdf" />
                                                    </label>
                                                    <p class="pl-1">or drag and drop</p>
                                                </div>
                                                <p class="text-xs text-text-muted">PNG, JPG, PDF up to 5MB</p>
                                            </div>
                                        </div>
                                        <div id="studentIdCopyError" class="form-error hidden">Student ID copy is required</div>
                                    </div>

                                    <!-- Certificate of Registration -->
                                    <div class="form-group">
                                        <label for="certOfRegistration" class="form-label">Certificate of Registration *</label>
                                        <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-secondary-300 border-dashed rounded-md hover:border-primary transition-colors duration-200">
                                            <div class="space-y-1 text-center">
                                                <svg class="mx-auto h-12 w-12 text-text-muted" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                <div class="flex text-sm text-text-secondary">
                                                    <label for="certOfRegistration" class="relative cursor-pointer bg-white rounded-md font-medium text-primary hover:text-primary-700">
                                                        <span>Upload a file</span>
                                                        <input id="certOfRegistration" name="certOfRegistration" type="file" class="sr-only" accept=".jpg,.jpeg,.png,.pdf" />
                                                    </label>
                                                    <p class="pl-1">or drag and drop</p>
                                                </div>
                                                <p class="text-xs text-text-muted">PNG, JPG, PDF up to 5MB</p>
                                            </div>
                                        </div>
                                        <div id="certOfRegistrationError" class="form-error hidden">Certificate of Registration is required</div>
                                    </div>

                                    <!-- Medical Certificate -->
                                    <div class="form-group">
                                        <label for="medicalCert" class="form-label">Medical Certificate</label>
                                        <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-secondary-300 border-dashed rounded-md hover:border-primary transition-colors duration-200">
                                            <div class="space-y-1 text-center">
                                                <svg class="mx-auto h-12 w-12 text-text-muted" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                <div class="flex text-sm text-text-secondary">
                                                    <label for="medicalCert" class="relative cursor-pointer bg-white rounded-md font-medium text-primary hover:text-primary-700">
                                                        <span>Upload a file</span>
                                                        <input id="medicalCert" name="medicalCert" type="file" class="sr-only" accept=".jpg,.jpeg,.png,.pdf" />
                                                    </label>
                                                    <p class="pl-1">or drag and drop</p>
                                                </div>
                                                <p class="text-xs text-text-muted">PNG, JPG, PDF up to 5MB (Optional)</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Parent/Guardian Consent -->
                                    <div class="form-group">
                                        <label for="parentConsent" class="form-label">Parent/Guardian Consent Form *</label>
                                        <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-secondary-300 border-dashed rounded-md hover:border-primary transition-colors duration-200">
                                            <div class="space-y-1 text-center">
                                                <svg class="mx-auto h-12 w-12 text-text-muted" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                </svg>
                                                <div class="flex text-sm text-text-secondary">
                                                    <label for="parentConsent" class="relative cursor-pointer bg-white rounded-md font-medium text-primary hover:text-primary-700">
                                                        <span>Upload a file</span>
                                                        <input id="parentConsent" name="parentConsent" type="file" class="sr-only" accept=".jpg,.jpeg,.png,.pdf" />
                                                    </label>
                                                    <p class="pl-1">or drag and drop</p>
                                                </div>
                                                <p class="text-xs text-text-muted">PNG, JPG, PDF up to 5MB</p>
                                            </div>
                                        </div>
                                        <div id="parentConsentError" class="form-error hidden">Parent/Guardian consent form is required</div>
                                    </div>
                                </div>

                                <!-- Terms and Conditions -->
                                <div class="mt-8 p-4 bg-secondary-50 rounded-lg">
                                    <div class="flex items-start">
                                        <input id="agreeTerms" name="agreeTerms" type="checkbox" class="h-4 w-4 text-primary focus:ring-primary border-secondary-300 rounded mt-1" required />
                                        <label for="agreeTerms" class="ml-3 text-sm text-text-primary">
                                            I agree to the <a href="javascript:void(0)" class="text-primary hover:text-primary-700 font-medium">Terms and Conditions</a> and <a href="javascript:void(0)" class="text-primary hover:text-primary-700 font-medium">Boarding House Rules</a>. I understand that providing false information may result in application rejection or termination of accommodation.
                                        </label>
                                    </div>
                                    <div id="agreeTermsError" class="form-error hidden mt-2">You must agree to the terms and conditions</div>
                                </div>
                            </div>

                            <!-- Navigation Buttons -->
                            <div class="flex justify-between pt-6 border-t border-secondary-200">
                                <button type="button" id="prevBtn" class="btn btn-secondary hidden">
                                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                                    </svg>
                                    Previous
                                </button>

                                <div class="flex space-x-4 ml-auto">
                                    <button type="button" id="saveDraftBtn" class="btn btn-secondary">
                                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"/>
                                        </svg>
                                        Save Draft
                                    </button>

                                    <button type="button" id="nextBtn" class="btn-primary">
                                        Next
                                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                        </svg>
                                    </button>

                                    <button type="submit" id="submitBtn" class="btn-primary hidden">
                                        <span id="submitText">Submit Application</span>
                                        <svg id="submitSpinner" class="hidden animate-spin -ml-1 mr-3 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/>
                                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Sidebar - Rules and Information -->
                <div class="lg:col-span-1">
                    <div class="card-elevated p-6 sticky top-8">
                        <h3 class="text-lg font-semibold text-text-primary mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            Important Information
                        </h3>

                        <!-- Required Documents -->
                       
                        <!-- Boarding House Rules -->
                        <div class="mb-6">
                            <h4 class="font-medium text-text-primary mb-3">Key Rules:</h4>
                            <ul class="space-y-2 text-sm text-text-secondary">
                                <li>• No visitors after 10:00 PM</li>
                                <li>• Maintain cleanliness in common areas</li>
                                <li>• Respect quiet hours (10 PM - 6 AM)</li>
                                <li>• No smoking or drinking allowed</li>
                                <li>• Monthly rent due on the 5th</li>
                            </ul>
                        </div>

                        <!-- Contact Information -->
                        
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Success Modal -->
    <div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 animate-fade-in">
            <div class="text-center">
                <div class="w-16 h-16 bg-success rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold text-text-primary mb-2">Application Submitted!</h3>
                <p class="text-text-secondary mb-6">Your boarding house application has been successfully submitted. You will receive a confirmation email shortly.</p>
                <div class="flex space-x-4">
                    <button onclick="window.location.href='student_dashboard.html'" class="btn-primary flex-1">
                        Go to Dashboard
                    </button>
                    <button onclick="window.location.href='room_availability.html'" class="btn btn-secondary flex-1">
                        View Rooms
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Offline Status Indicator -->
    <div id="offlineIndicator" class="hidden fixed bottom-4 left-4 bg-warning text-white px-4 py-2 rounded-lg shadow-lg z-50">
        <div class="flex items-center">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/>
            </svg>
            <span class="text-sm">You're offline. Data will be saved locally.</span>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 4;

        // Initialize form
        document.addEventListener('DOMContentLoaded', function() {
            loadDraftData();
            updateStepDisplay();
            setupFileUploads();
            setupPhoneFormatting();
        });

        // Step navigation
        function updateStepDisplay() {
            // Hide all steps
            for (let i = 1; i <= totalSteps; i++) {
                document.getElementById(`step${i}`).classList.add('hidden');
                const indicator = document.getElementById(`step${i}-indicator`);
                const progressBar = document.getElementById(`progress-bar-${i}`);
                
                if (i < currentStep) {
                    // Completed steps
                    indicator.classList.remove('bg-secondary-200', 'text-text-muted');
                    indicator.classList.add('bg-success', 'text-white');
                    indicator.innerHTML = '✓';
                    progressBar.style.width = '100%';
                } else if (i === currentStep) {
                    // Current step
                    indicator.classList.remove('bg-secondary-200', 'text-text-muted', 'bg-success');
                    indicator.classList.add('bg-primary', 'text-white');
                    indicator.innerHTML = i;
                    progressBar.style.width = '100%';
                } else {
                    // Future steps
                    indicator.classList.remove('bg-primary', 'text-white', 'bg-success');
                    indicator.classList.add('bg-secondary-200', 'text-text-muted');
                    indicator.innerHTML = i;
                    progressBar.style.width = '0%';
                }
            }

            // Show current step
            document.getElementById(`step${currentStep}`).classList.remove('hidden');

            // Update navigation buttons
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            prevBtn.classList.toggle('hidden', currentStep === 1);
            nextBtn.classList.toggle('hidden', currentStep === totalSteps);
            submitBtn.classList.toggle('hidden', currentStep !== totalSteps);

            // Update step indicator text
            const stepTexts = ['Personal Information', 'Emergency Contact', 'Accommodation', 'Documents'];
            document.querySelectorAll('.flex.items-center span').forEach((span, index) => {
                if (index < stepTexts.length) {
                    span.classList.toggle('text-primary', index + 1 <= currentStep);
                    span.classList.toggle('text-text-muted', index + 1 > currentStep);
                }
            });
        }

        // Next button handler
        document.getElementById('nextBtn').addEventListener('click', function() {
            if (validateCurrentStep()) {
                currentStep++;
                updateStepDisplay();
                saveDraftData();
            }
        });

        // Previous button handler
        document.getElementById('prevBtn').addEventListener('click', function() {
            currentStep--;
            updateStepDisplay();
        });

        // Form validation for current step
        function validateCurrentStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const requiredFields = currentStepElement.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                const errorElement = document.getElementById(`${field.name}Error`);
                
                if (!field.value.trim()) {
                    if (errorElement) {
                        errorElement.classList.remove('hidden');
                    }
                    field.classList.add('border-error');
                    isValid = false;
                } else {
                    if (errorElement) {
                        errorElement.classList.add('hidden');
                    }
                    field.classList.remove('border-error');
                    
                    // Additional validation
                    if (field.type === 'email' && !isValidEmail(field.value)) {
                        if (errorElement) {
                            errorElement.textContent = 'Please enter a valid email address';
                            errorElement.classList.remove('hidden');
                        }
                        field.classList.add('border-error');
                        isValid = false;
                    }
                    
                    if (field.type === 'tel' && !isValidPhoneNumber(field.value)) {
                        if (errorElement) {
                            errorElement.textContent = 'Please enter a valid Philippine phone number';
                            errorElement.classList.remove('hidden');
                        }
                        field.classList.add('border-error');
                        isValid = false;
                    }
                    
                    if (field.name === 'Student TC Number' && !isValidStudentTCNumber(field.value)) {
                        if (errorElement) {
                            errorElement.textContent = 'Please enter a valid student TC NUMBER (TC-0-A-00000)';
                            errorElement.classList.remove('hidden');
                        }
                        field.classList.add('border-error');
                        isValid = false;
                    }
                }
            });

            return isValid;
        }

        // Validation helpers
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function isValidPhoneNumber(phone) {
            const phoneRegex = /^(\+63|0)[0-9]{10}$/;
            return phoneRegex.test(phone.replace(/\s/g, ''));
        }

        function isValidStudentId(studentId) {
            const studentIdRegex = /^[0-9]{4}-[0-9]{5}$/;
            return studentIdRegex.test(studentId);
        }

        // Phone number formatting
        function setupPhoneFormatting() {
            const phoneInputs = document.querySelectorAll('input[type="tel"]');
            phoneInputs.forEach(input => {
                input.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    
                    if (value.startsWith('63')) {
                        value = '+' + value;
                    } else if (value.startsWith('0')) {
                        value = '+63' + value.substring(1);
                    } else if (!value.startsWith('+63') && value.length > 0) {
                        value = '+63' + value;
                    }
                    
                    // Format: +63 9XX XXX XXXX
                    if (value.length > 3) {
                        value = value.substring(0, 3) + ' ' + value.substring(3);
                    }
                    if (value.length > 7) {
                        value = value.substring(0, 7) + ' ' + value.substring(7);
                    }
                    if (value.length > 11) {
                        value = value.substring(0, 11) + ' ' + value.substring(11);
                    }
                    
                    e.target.value = value.substring(0, 16); // Limit length
                });
            });
        }

        // File upload handling
        function setupFileUploads() {
            const fileInputs = document.querySelectorAll('input[type="file"]');
            fileInputs.forEach(input => {
                input.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        // Validate file size (5MB limit)
                        if (file.size > 5 * 1024 * 1024) {
                            alert('File size must be less than 5MB');
                            e.target.value = '';
                            return;
                        }
                        
                        // Update UI to show file selected
                        const container = e.target.closest('.border-dashed');
                        const textElement = container.querySelector('.text-center');
                        textElement.innerHTML = `
                            <svg class="mx-auto h-12 w-12 text-success" fill="none" stroke="currentColor" viewBox="0 0 48 48">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <p class="text-sm text-success font-medium">${file.name}</p>
                            <p class="text-xs text-text-muted">File uploaded successfully</p>
                        `;
                        container.classList.remove('border-secondary-300');
                        container.classList.add('border-success');
                    }
                });
            });
        }

        // Save draft functionality
        document.getElementById('saveDraftBtn').addEventListener('click', function() {
            saveDraftData();
            
            // Show success message
            const btn = this;
            const originalText = btn.innerHTML;
            btn.innerHTML = `
                <svg class="w-4 h-4 mr-2 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                Saved!
            `;
            btn.classList.add('text-success');
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.classList.remove('text-success');
            }, 2000);
        });

        function saveDraftData() {
            const formData = new FormData(document.getElementById('registrationForm'));
            const draftData = {};
            
            for (let [key, value] of formData.entries()) {
                draftData[key] = value;
            }
            
            draftData.currentStep = currentStep;
            draftData.timestamp = new Date().toISOString();
            
            localStorage.setItem('registrationDraft', JSON.stringify(draftData));
        }

        function loadDraftData() {
            const draftData = localStorage.getItem('registrationDraft');
            if (draftData) {
                const data = JSON.parse(draftData);
                
                // Restore form values
                Object.keys(data).forEach(key => {
                    const field = document.querySelector(`[name="${key}"]`);
                    if (field && key !== 'currentStep' && key !== 'timestamp') {
                        if (field.type === 'checkbox') {
                            field.checked = data[key] === 'on';
                        } else {
                            field.value = data[key];
                        }
                    }
                });
                
                // Restore current step
                if (data.currentStep) {
                    currentStep = parseInt(data.currentStep);
                }
            }
        }

        // Form submission
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateCurrentStep()) {
                return;
            }
            
            const submitBtn = document.getElementById('submitBtn');
            const submitText = document.getElementById('submitText');
            const submitSpinner = document.getElementById('submitSpinner');
            
            // Show loading state
            submitBtn.disabled = true;
            submitText.textContent = 'Submitting...';
            submitSpinner.classList.remove('hidden');
            
            // Collect form data
            const formData = new FormData(this);
            const applicationData = {};
            
            for (let [key, value] of formData.entries()) {
                applicationData[key] = value;
            }
            
            applicationData.applicationId = 'APP-' + Date.now();
            applicationData.submittedAt = new Date().toISOString();
            applicationData.status = 'pending';
            
            // Save to localStorage (simulate API submission)
            setTimeout(() => {
                localStorage.setItem('studentApplication', JSON.stringify(applicationData));
                localStorage.removeItem('registrationDraft'); // Clear draft
                
                // Show success modal
                document.getElementById('successModal').classList.remove('hidden');
                
                // Reset form
                submitBtn.disabled = false;
                submitText.textContent = 'Submit Application';
                submitSpinner.classList.add('hidden');
            }, 2000);
        });

        // Offline detection
        function updateOnlineStatus() {
            const offlineIndicator = document.getElementById('offlineIndicator');
            if (navigator.onLine) {
                offlineIndicator.classList.add('hidden');
            } else {
                offlineIndicator.classList.remove('hidden');
            }
        }

        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);
        updateOnlineStatus();

        // Auto-save draft every 30 seconds
        setInterval(saveDraftData, 30000);
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>